{{ define "main" }}
{{ $paginator := .Paginate (where .Data.Pages "Type" "post") }}
<div class="home">

    <ul class="post-list">
      {{ range $paginator.Pages }}
        <li class="post">
          <div class="post-header">
            <h2>
              <a class="post-link" href="{{ .Permalink }}">{{ .Title }}</a>
            </h2>
            <p class="post-meta">{{ .Date.Format "Jan 2, 2006" }}{{ if .Params.categories }} &#x25CF; {{ range .Params.categories }}{{ . }}{{ end }}{{ end }}</p>
          </div>
          <article class="post-content">{{ .Summary }}{{ if .Truncated }} <a class="post-link" href="{{ .Permalink }}">Read more...</a>{{ end }}</article>
        </li>
      {{ end }}
    </ul>
    <div class="pagination">
      {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="previous">Previous</a>
      {{ end }}
      <span class="page_number ">Page {{ $paginator.PageNumber }} of {{ if $paginator.HasNext }}<a href="{{ $paginator.Last.URL }}">{{ $paginator.TotalPages }}</a>{{ else }}{{ $paginator.TotalPages }}{{ end }}</span>
      {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="next">Next</a>
      {{ end }}
    </div>
  
</div>
{{ end }}